---
---

/*
 *    Minimal Mistakes Jekyll Theme
 *
 *  - Michael Rose
 *  - mademistakes.com
 *  - https://twitter.com/mmistakes
 *
*/

@import "vendor/breakpoint/breakpoint"; // media query mixins
@import "variables";
@import "mixins";
@import "vendor/susy/susy";

@import "reset";
@import "base";

@import "utilities";
@import "animations";
@import "tables";
@import "buttons";
@import "notices";
@import "masthead";
@import "navigation";
@import "footer";
@import "syntax";

@import "forms";

@import "page";
@import "archive";
@import "sidebar";

@import "vendor/font-awesome/fontawesome";
@import "vendor/font-awesome/solid";
@import "vendor/font-awesome/brands";
@import "vendor/magnific-popup/magnific-popup";
@import "print";

/* 1. 先统一外层容器宽度（关键：消除默认边距，与页面主宽度对齐） */
.papers-list {
    width: 100%; /* 强制占满父容器宽度 */
    max-width: inherit; /* 继承页面主容器的最大宽度，避免超宽 */
    margin: 0; /* 清除默认外边距 */
    padding: 0; /* 清除默认内边距 */
}

/* 2. 论文条目容器：flex 布局优化（确保不挤压、不溢出） */
.paper-content {
    display: flex; 
    align-items: flex-start; /* 改为顶部对齐，避免文本换行时徽章错位 */
    gap: 0.8em; /* 徽章与文本间距保留，优化视觉 */
    padding: 0.8em 0; /* 上下留白适度增加，提升可读性 */
    width: 100%; /* 强制条目占满外层容器 */
    box-sizing: border-box; /* 确保 padding 不影响宽度计算 */
}

/* 3. 徽章样式：固定尺寸，不干扰布局 */
.badge {
    padding: 0.2em 0.6em; /* 增加内边距，文字更舒展 */
    color: white;
    background-color: #00369f; /* 保留原配色，提升辨识度 */
    font-size: 0.75em;
    flex-shrink: 0; /* 徽章不缩小，确保样式稳定 */
    border-radius: 2px; /* 轻微圆角，视觉更友好 */
    line-height: 1.4; /* 优化文字垂直居中 */
}

/* 4. 文本内容容器：允许换行，避免溢出（核心修复点） */
.text-content {
    display: flex;
    flex-direction: column; /* 改为纵向排列：标题在上，作者在下 */
    gap: 0.3em; /* 标题与作者的垂直间距，避免拥挤 */
    flex-grow: 1; /* 占满剩余空间，确保宽度跟随外层容器 */
    width: calc(100% - 40px); /* 预留徽章宽度，避免内容挤压 */
}

/* 5. 标题样式：允许换行，优化超宽处理 */
.paper-title {
    font-size: 1em;
    color: #2c3e50; /* 加深颜色，提升对比度 */
    text-decoration: none;
    white-space: normal; /* 取消强制不换行，允许自然折行 */
    line-height: 1.5; /* 优化行高，提升阅读体验 */
    word-wrap: break-word; /* 超宽单词强制换行，避免溢出 */
}

.paper-title:hover {
    text-decoration: underline;
    color: #0066cc; /*  hover 时变色，增加交互反馈 */
}

/* 6. 作者样式：允许换行，适配多作者场景 */
.paper-authors {
    font-size: 0.9em; /* 缩小字号，与标题区分层级 */
    color: #666;
    white-space: normal; /* 取消强制不换行，多作者时自然折行 */
    line-height: 1.4;
}

/* 7. 适配移动端：确保小屏幕下布局正常 */
@media (max-width: 768px) {
    .paper-content {
        gap: 0.5em; /* 缩小间距，适配小屏幕 */
        padding: 0.6em 0;
    }
    .text-content {
        width: calc(100% - 30px); /* 减少预留宽度，充分利用屏幕 */
    }
    .paper-title {
        font-size: 0.95em; /* 轻微缩小标题字号 */
    }
    .paper-authors {
        font-size: 0.85em;
    }
}

/* 保留你原有的其他样式（如下），无需修改 */
.paper-box {
    display: flex;
    justify-content: left;
    align-items: center;
    flex-direction: row;
    flex-wrap: wrap;
    border-bottom: 1px #efefef solid;
    padding: 2em 0 2em 0;

    .paper-box-image{
        justify-content: center;
        display: flex;
        width: 100%;
        order: 2;
        img {
            max-width: 400px;
            box-shadow: 3px 3px 6px #888;
            object-fit: cover;
        }
    }
    
    .paper-box-text{
        max-width: 100%;
        order: 1;
    }
    
    @include breakpoint($medium) {
        .paper-box-image{
            justify-content: left;
            min-width: 200px;
            max-width: 40%;
            order: 1;
        }
        
        .paper-box-text{
            justify-content: left;
            padding-left: 2em;
            max-width: 60%;
            order: 2;
        }
    }
}

$scroll_offset : 2em;
h1:before, .anchor:before { 
    content: ''; 
    display: block; 
    position: relative; 
    width: 0; 
    height: $scroll_offset; 
    margin-top: -$scroll_offset;
}

/* 原 badge 样式已注释，无需处理 */
// .badge {
//     padding-left: 1rem;
//     padding-right: 1rem;
//     position: absolute;
//     margin-top: .5em;
//     margin-left: -.5em;
//     color: white;
//     background-color: #00369f;
//     font-size: .8em;
// }
